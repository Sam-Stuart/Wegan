<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                template="/frags/_anal_template.xhtml">
    <ui:define name="metaInfo">
        <f:event type="preRenderView" listener="#{caBean.performDefaultAnalysis('Multivariate')}"/> 
    </ui:define>
    <ui:define name="content">
        <h:panelGrid style="padding:4px 20px 20px 20px; font-size: 12px; line-height: 23px; width:100%">
            <h1>Multivariate Regression:</h1>
            <p:tabView id="multiCA">    
                <p:tab title ="Line of Best Fit Plot" titleStyleClass="p-tab-nav">
                    <h:form id="form1">
                        <p style='font-size: 13px'>
                            One dependent variable and multiple independent variables are tested for correlation. Only numeric variables are used for the dependent variable. Numeric and categorical variables can be independent variables. 
                            Use the text box to select the the independent variables. Use commas between variables, however if you are interested in the interaction between two or more variables, separate them by a colon.
                        </p>
                        <h:panelGrid id="panelGrid" columns="2" cellpadding="3" columnClasses="width: 10%, width: 40%">
                            <h:outputLabel style="font-weight: bold" value="Dependant Variable:"/>

                            <p:selectOneMenu styleClass="menu" panelStyleClass="panel" value="#{rfCABean.columnNameA}">
                                <f:selectItems value="#{rfCABean.columnOpts}" />
                            </p:selectOneMenu>

                            <h:outputLabel style="font-weight: bold" value="Indicate independent variables using the column names with commas in between:"/>
                            <p:inputText style="width:400px; height:40px" value="#{rfCABean.indInput}"/> 

                            <h:outputLabel style="font-weight: bold" value="Use Original (Non-Normalized) Data:"/>
                            <p:selectBooleanCheckbox value ="#{rfCABean.doOriginal}"/>
                            
                            <p:panelGrid></p:panelGrid>
                            <h:panelGrid columns="2" cellpadding="3" style="float: right; text-shadow: none !important;"> 
                            <p:commandButton value="Update" 
                                             styleClass="updateButton"
                                             style="box-shadow: none !important; text-shadow: none !important"
                                            onclick="PF('statusDialog').show()"
                                            oncomplete="PF('statusDialog').hide()"  
                                            update=":multiCA:form1:rfPane1  :cmdPane" 
                                            actionListener="#{rfCABean.corrRFBtn_action()}"/> 
                            </h:panelGrid>

                        </h:panelGrid>
                        <h:panelGrid class="resultsBar" columns="2">
                            <h:panelGroup>
                                <h:panelGrid columns="1" style="text-align : left;">
                                    Results
                                </h:panelGrid>
                            </h:panelGroup> 
                            <h:panelGroup>
                                <h:panelGrid columns="3" class="resultsImages">
                                    <i class="fas fa-palette"></i>
                                    <i class="fa fa-question-circle"></i>
                                </h:panelGrid>

                            </h:panelGroup>                            
                        </h:panelGrid> 
                        <h:panelGrid id="rfPane1" style="text-align: center; width: 100%;">
                            <!--<img onerror='this.style.display="none"' src="#{sessionBean1.getCurrentImageURL('corr_rf')}" alt="Multivariateimage"/>-->
                        </h:panelGrid>
                    </h:form>
                </p:tab>
                <p:tab title ="Predicted vs Actual Plot" titleStyleClass="p-tab-nav">
                    <h:form id="form2">
                        <p style='font-size: 13px'>
                            One dependent variable and multiple independent variables are tested for correlation. Only numeric variables are used for building the model. 
                            Use the text box to select the the independent variables. Use commas between variables, however if you are interested in the interaction between two or more variables, separate them by a colon.
                        </p>
                        <h:panelGrid id="panelGrid" columns="2" cellpadding="3" columnClasses="width: 10%, width: 40%">
                            <h:outputLabel style="font-weight: bold" value="Dependant Variable:"/>

                            <p:selectOneMenu styleClass="menu" panelStyleClass="panel" value="#{rfCABean.columnNameA}">
                                <f:selectItems value="#{rfCABean.columnOpts}" />
                            </p:selectOneMenu>

                            <h:outputLabel style="font-weight: bold" value="Indicate independent variables using the column names with commas in between:"/>
                            <p:inputText style="width:400px; height:40px" value="#{rfCABean.indInput}"/> 

                            <h:outputLabel style="font-weight: bold" value="Use Original (Non-Normalized) Data:"/>
                            <p:selectBooleanCheckbox value ="#{rfCABean.doOriginal}"/>
                            
                            <p:panelGrid></p:panelGrid>
                            <h:panelGrid columns="2" cellpadding="3" style="float: right; text-shadow: none !important;"> 
                            <p:commandButton value="Update" 
                                             styleClass="updateButton"
                                             style="box-shadow: none !important; text-shadow: none !important"
                                            onclick="PF('statusDialog').show()"
                                            oncomplete="PF('statusDialog').hide()"  
                                            update=":multiCA:form2:rfPane2  :cmdPane" 
                                            actionListener="#{rfCABean.corrRFBtn_action()}"/> 
                            </h:panelGrid>

                        </h:panelGrid>
                        <h:panelGrid class="resultsBar" columns="2">
                            <h:panelGroup>
                                <h:panelGrid columns="1" style="text-align : left;">
                                    Results
                                </h:panelGrid>
                            </h:panelGroup> 
                            <h:panelGroup>
                                <h:panelGrid columns="3" class="resultsImages">
                                    <i class="fas fa-palette"></i>
                                    <i class="fa fa-question-circle"></i>
                                </h:panelGrid>

                            </h:panelGroup>                            
                        </h:panelGrid> 
                        <h:panelGrid id="rfPane2" style="text-align: center; width: 100%;">
                            <img onerror='this.style.display="none"' src="#{sessionBean1.getCurrentImageURL('corr_multivariate')}" alt="RFimage"/>
                        </h:panelGrid>
                    </h:form>
                </p:tab>
                <p:tab title ="Coefficient Plot" titleStyleClass="p-tab-nav">
                    <h:form id="form3">
                        <p style='font-size: 13px'>
                            One dependent variable and multiple independent variables are tested for correlation. Only numeric variables are used for building the model. 
                            Use the text box to select the the independent variables. Use commas between variables, however if you are interested in the interaction between two or more variables, separate them by a colon.
                        </p>
                        <h:panelGrid id="panelGrid" columns="2" cellpadding="3" columnClasses="width: 10%, width: 40%">
                            <h:outputLabel style="font-weight: bold" value="Dependant Variable:"/>

                            <p:selectOneMenu styleClass="menu" panelStyleClass="panel" value="#{rfCABean.columnNameA}">
                                <f:selectItems value="#{rfCABean.columnOpts}" />
                            </p:selectOneMenu>

                            <h:outputLabel style="font-weight: bold" value="Indicate independent variables using the column names with commas in between:"/>
                            <p:inputText style="width:400px; height:40px" value="#{rfCABean.indInput}"/> 

                            <h:outputLabel style="font-weight: bold" value="Use Original (Non-Normalized) Data:"/>
                            <p:selectBooleanCheckbox value ="#{rfCABean.doOriginal}"/>
                            
                            <p:panelGrid></p:panelGrid>
                            <h:panelGrid columns="2" cellpadding="3" style="float: right; text-shadow: none !important;">                             
                            <p:commandButton value="Update" 
                                             styleClass="updateButton"
                                             style="box-shadow: none !important; text-shadow: none !important"
                                            onclick="PF('statusDialog').show()"
                                            oncomplete="PF('statusDialog').hide()"  
                                            update=":multiCA:form3:rfPane3  :cmdPane" 
                                            actionListener="#{rfCABean.corrRFBtn_action()}"/> 
                            </h:panelGrid>

                        </h:panelGrid>
                        <h:panelGrid class="resultsBar" columns="2">
                            <h:panelGroup>
                                <h:panelGrid columns="1" style="text-align : left;">
                                    Results
                                </h:panelGrid>
                            </h:panelGroup> 
                            <h:panelGroup>
                                <h:panelGrid columns="3" class="resultsImages">
                                    <i class="fas fa-palette"></i>
                                    <i class="fa fa-question-circle"></i>
                                </h:panelGrid>

                            </h:panelGroup>                            
                        </h:panelGrid> 
                        <h:panelGrid id="rfPane3" style="text-align: center; width: 100%;">
                            <img onerror='this.style.display="none"' src="#{sessionBean1.getCurrentImageURL('corr_multivariate_coeff')}" alt="RFimage"/>
                        </h:panelGrid>
                    </h:form>
                </p:tab>
                <p:tab title ="Relative Importance Plot" titleStyleClass="p-tab-nav">
                    <h:form id="form4">
                        <p style='font-size: 13px'>
                            One dependent variable and multiple independent variables are tested for correlation. Only numeric variables are used for building the model. 
                            Use the text box to select the the independent variables. Use commas between variables, however if you are interested in the interaction between two or more variables, separate them by a colon.
                        </p>
                        <h:panelGrid id="panelGrid" columns="2" cellpadding="3" columnClasses="width: 10%, width: 40%">
                            <h:outputLabel style="font-weight: bold" value="Dependant Variable:"/>

                            <p:selectOneMenu styleClass="menu" panelStyleClass="panel" value="#{rfCABean.columnNameA}">
                                <f:selectItems value="#{rfCABean.columnOpts}" />
                            </p:selectOneMenu>
                            
                            <h:outputLabel style="font-weight: bold" value="Use Original (Non-Normalized) Data:"/>
                            <p:selectBooleanCheckbox value ="#{rfCABean.doOriginal}"/>

                            <h:outputLabel style="font-weight: bold" value="Indicate independent variables using the column names with commas in between:"/>
                            <p:inputText style="width:400px; height:40px" value="#{rfCABean.indInput}"/> 

                            <p:panelGrid></p:panelGrid>
                            <h:panelGrid columns="2" cellpadding="3" style="float: right; text-shadow: none !important;"> 
                            <p:commandButton value="Update" 
                                             styleClass="updateButton"
                                             style="box-shadow: none !important; text-shadow: none !important"
                                            onclick="PF('statusDialog').show()"
                                            oncomplete="PF('statusDialog').hide()"  
                                            update=":multiCA:form4:rfPane3  :cmdPane" 
                                            actionListener="#{rfCABean.corrRFBtn_action()}"/> 
                            </h:panelGrid>

                        </h:panelGrid>
                        <h:panelGrid class="resultsBar" columns="2">
                            <h:panelGroup>
                                <h:panelGrid columns="1" style="text-align : left;">
                                    Results
                                </h:panelGrid>
                            </h:panelGroup> 
                            <h:panelGroup>
                                <h:panelGrid columns="3" class="resultsImages">
                                    <i class="fas fa-palette"></i>
                                    <i class="fa fa-question-circle"></i>
                                </h:panelGrid>

                            </h:panelGroup>                            
                        </h:panelGrid> 
                        <h:panelGrid id="rfPane3" style="text-align: center; width: 100%;">
                            <img onerror='this.style.display="none"' src="#{sessionBean1.getCurrentImageURL('corr_rf_error')}" alt="RFimage"/>
                        </h:panelGrid>
                    </h:form>
                </p:tab>            
            </p:tabView>
        </h:panelGrid> 
    </ui:define>
</ui:composition>
