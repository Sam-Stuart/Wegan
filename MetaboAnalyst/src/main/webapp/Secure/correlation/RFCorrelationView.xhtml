<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                template="/frags/_anal_template.xhtml">
    <ui:define name="metaInfo">
        <f:event type="preRenderView" listener="#{caBean.performDefaultAnalysis('RF')}"/> 
    </ui:define>
    <ui:define name="content">
        <h:panelGrid style="padding:4px 20px 20px 20px; font-size: 12px; line-height: 23px; width:100%">
            <h1>Random Forest Regression:</h1>
            <p:tabView id="RFCA">
                <p:tab title ="Predicted vs Actual Plot" titleStyleClass="p-tab-nav">
                    <h:form id="form1">
                        <p style="font-size: 13px">
                            One dependent variable and one or more independent variables are tested for correlation. The dependent variable must be numeric. The independent variables can be numeric or categorical.
                            For categorical variables, make sure to use characters and not numbers. For example, if you have levels 1, 2 and 3, change the level labels to I, II and III prior to upload.
                            The train data for model building is 70% of the dataset, while the test data for model testing is 30% of the dataset.
                        </p>
                        <h:panelGrid id="rfPane1" columns="3" cellpadding="3" columnClasses="colLeft,colRight,colLast">
                            <h:outputLabel style="font-weight: bold" value="Dependant Variable:"/>

                            <p:selectOneMenu styleClass="menu" panelStyleClass="panel" value="#{rfCABean.columnNameA}">
                                <f:selectItems value="#{rfCABean.columnOpts}" />
                            </p:selectOneMenu>
                            <spacer></spacer>
                            <h:outputLabel style="font-weight: bold" value="Indicate independent variables using the column names with commas in between:"/>
                            <p:inputText style="width:400px; height:40px" value="#{rfCABean.indInput}"/> 
                        </h:panelGrid>

                        <p:panelGrid></p:panelGrid>
                        <h:panelGrid id="rfPane1_2" columns="2" cellpadding="3" style="float: right; text-shadow: none !important;"> 

                            <p:commandButton value="Update" 
                                             styleClass="updateButton"
                                             style="box-shadow: none !important; text-shadow: none !important"
                                            onclick="PF('statusDialog').show()"
                                            oncomplete="PF('statusDialog').hide()"  
                                            update=":RFCA:form1:rfPane1  :cmdPane" 
                                            actionListener="#{rfCABean.corrRFBtn_action()}"/> 
                        </h:panelGrid>
                        <h:panelGrid class="resultsBar" columns="2">
                            <h:panelGroup>
                                <h:panelGrid columns="1" style="text-align : left;">
                                    Results
                                </h:panelGrid>
                            </h:panelGroup> 
                            <h:panelGroup>
                                <h:panelGrid columns="3" class="resultsImages">
                                    <i class="fas fa-palette"></i>
                                    <i class="fa fa-question-circle"></i>
                                </h:panelGrid>

                            </h:panelGroup>                            
                        </h:panelGrid> 
                        <h:panelGrid id="rfPane1_3" style="text-align: center; width: 100%;">
                            <img onerror='this.style.display="none"' src="#{sessionBean1.getCurrentImageURL('corr_rf')}" alt="Multivariateimage"/>
                        </h:panelGrid>
                    </h:form>
                </p:tab>
                <p:tab title ="Relative Importance Plot" titleStyleClass="p-tab-nav">
                    <h:form id="form2">
                        <p style="font-size: 13px">
                            One dependent variable and one or more independent variables are tested for correlation. The dependent variable must be numeric. The independent variables can be numeric or categorical.
                            For categorical variables, make sure to use characters and not numbers. For example, if you have levels 1, 2 and 3, change the level labels to I, II and III prior to upload.
                            The train data for model building is 70% of the dataset, while the test data for model testing is 30% of the dataset.
                        </p>
                        <h:panelGrid id="rfPane2" columns="3" cellpadding="3" columnClasses="colLeft,colRight,colLast">
                            <h:outputLabel style="font-weight: bold" value="Dependant Variable:"/>

                            <p:selectOneMenu styleClass="menu" panelStyleClass="panel" value="#{rfCABean.columnNameA}">
                                <f:selectItems value="#{rfCABean.columnOpts}" />
                            </p:selectOneMenu>
                            <spacer></spacer>
                            <h:outputLabel style="font-weight: bold" value="Indicate independent variables using the column names with commas in between:"/>
                            <p:inputText style="width:400px; height:40px" value="#{rfCABean.indInput}"/> 
                        </h:panelGrid>
                            <p:panelGrid></p:panelGrid>
                        <h:panelGrid id="rfPane2_2" columns="2" cellpadding="3" style="float: right; text-shadow: none !important;"> 

                            <p:commandButton value="Update" 
                                             styleClass="updateButton"
                                             style="box-shadow: none !important; text-shadow: none !important"
                                            onclick="PF('statusDialog').show()"
                                            oncomplete="PF('statusDialog').hide()"  
                                            update=":RFCA:form2:rfPane2  :cmdPane" 
                                            actionListener="#{rfCABean.corrRFBtn_action()}"/> 

                        </h:panelGrid>
                        <h:panelGrid class="resultsBar" columns="2">
                            <h:panelGroup>
                                <h:panelGrid columns="1" style="text-align : left;">
                                    Results
                                </h:panelGrid>
                            </h:panelGroup> 
                            <h:panelGroup>
                                <h:panelGrid columns="3" class="resultsImages">
                                    <i class="fas fa-palette"></i>
                                    <i class="fa fa-question-circle"></i>
                                </h:panelGrid>

                            </h:panelGroup>                            
                        </h:panelGrid> 
                        <h:panelGrid id="rfPane2_3" style="text-align: center; width: 100%;">
                            <img onerror='this.style.display="none"' src="#{sessionBean1.getCurrentImageURL('corr_rf_relative')}" alt="RFimage"/>
                        </h:panelGrid>
                    </h:form>
                </p:tab>
                <p:tab title ="Error rate vs Forest Size Plot" titleStyleClass="p-tab-nav">
                    <h:form id="form3">
                        <p style="font-size: 13px">
                            One dependent variable and one or more independent variables are tested for correlation. The dependent variable must be numeric. The independent variables can be numeric or categorical.
                            For categorical variables, make sure to use characters and not numbers. For example, if you have levels 1, 2 and 3, change the level labels to I, II and III prior to upload.
                            The train data for model building is 70% of the dataset, while the test data for model testing is 30% of the dataset.
                        </p>
                        <h:panelGrid id="rfPane3" columns="3" cellpadding="3" columnClasses="colLeft,colRight,colLast">
                            <h:outputLabel style="font-weight: bold" value="Dependant Variable:"/>
                            <p:selectOneMenu styleClass="menu" panelStyleClass="panel" value="#{rfCABean.columnNameA}">
                                <f:selectItems value="#{rfCABean.columnOpts}" />
                            </p:selectOneMenu>
                            <spacer></spacer>
                            <h:outputLabel style="font-weight: bold" value="Indicate independent variables using the column names with commas in between:"/>
                            <p:inputText style="width:400px; height:40px" value="#{rfCABean.indInput}"/> 
                        </h:panelGrid>
                        <p:panelGrid></p:panelGrid>
                        <h:panelGrid id="rfPane3_2" columns="2" cellpadding="3" style="float: right; text-shadow: none !important;"> 

                            <p:commandButton value="Update" 
                                             styleClass="updateButton"
                                             style="box-shadow: none !important; text-shadow: none !important"
                                            onclick="PF('statusDialog').show()"
                                            oncomplete="PF('statusDialog').hide()"  
                                            update=":RFCA:form3:rfPane3  :cmdPane" 
                                            actionListener="#{rfCABean.corrRFBtn_action()}"/> 

                        </h:panelGrid>
                        <h:panelGrid class="resultsBar" columns="2">
                            <h:panelGroup>
                                <h:panelGrid columns="1" style="text-align : left;">
                                    Results
                                </h:panelGrid>
                            </h:panelGroup> 
                            <h:panelGroup>
                                <h:panelGrid columns="3" class="resultsImages">
                                    <i class="fas fa-palette"></i>
                                    <i class="fa fa-question-circle"></i>
                                </h:panelGrid>

                            </h:panelGroup>                            
                        </h:panelGrid> 
                        <h:panelGrid id="rfPane3_3" style="text-align: center; width: 100%;">
                            <img onerror='this.style.display="none"' src="#{sessionBean1.getCurrentImageURL('corr_rf_error')}" alt="RFimage"/>
                        </h:panelGrid>
                    </h:form>
                </p:tab>
            </p:tabView> 
        </h:panelGrid> 
    </ui:define>
</ui:composition>
